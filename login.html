<script>
async function login() {
  let u = document.getElementById("user").value.trim();
  let p = document.getElementById("pass").value.trim();
  let msg = document.getElementById("msg");

  try {
    let res = await fetch("adduser.txt");
    let text = await res.text();

    let lines = text.split("\n").map(l => l.trim()).filter(l => l);

    let found = false;

    lines.forEach(line => {
      let parts = line.replace(/\"/g, "").split(":");
      let user = parts[0];
      let key = parts[1];

      if (u === user && p === key) {
        found = true;
      }
    });

    if (found) {
      localStorage.setItem("logged", "yes");
      window.location.href = "index.html";
    } else {
      msg.innerHTML = "User atau Key salah!";
    }

  } catch (e) {
    msg.innerHTML = "Gagal membaca adduser.txt!";
  }
}
                               </script>
